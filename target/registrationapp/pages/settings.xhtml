<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>Display All Users</title>
    <h:outputStylesheet name="css/newui/settings.css"/>
</h:head>

<h:body>
    <div class="container">
        <div class="sidebar">
            <ui:include src="sidebar.xhtml"/>
        </div>
        <div class="main-content">
            <h2 class="settings-header">
                Settings
            </h2>
            <h:form>
                <h:panelGroup layout="block" styleClass="settings-panel">
                    <div style="display: flex; flex-direction: row; justify-content: space-evenly;">
                        <div>
                            <h:panelGrid cellpadding="5">
                                <h:outputLabel for="firstName" value="First Name:"/>
                                <p:inputText id="firstName" value="#{loginBean.firstname}" required="true"/>
                                <h:message for="firstName" styleClass="error"/>

                                <h:outputLabel for="lastName" value="Last Name:"/>
                                <p:inputText id="lastName" value="#{loginBean.lastname}" required="true"/>
                                <h:message for="lastName" styleClass="error"/>

                                <h:outputLabel for="dob" value="Date of Birth (yyyy-MM-dd):" styleClass="label"/>
                                <p:calendar id="dob" value="#{loginBean.dateOfBirth}" required="true" showButtonPanel="true"
                                            navigator="true" maxdate="#{loginBean.today}" yearRange="c-100:c"
                                            pattern="yyyy-MM-dd" styleClass="input"/>
                                <h:message for="dob" styleClass="error"/>


                            </h:panelGrid>
                        </div>
                        <div>
                            <h:panelGrid cellpadding="5">

                                <h:outputLabel for="userName" value="User Name:"/>
                                <p:inputText id="userName" value="#{loginBean.username}" readonly="true"/>
                                <h:message for="userName" styleClass="error"/>

                                <h:outputLabel for="password" value="Password:"/>
                                <p:password id="password" value="#{loginBean.password}"/>
                                <h:message for="password" styleClass="error"/>

                                <h:outputLabel for="email" value="Email Address:"/>
                                <p:inputText id="email" value="#{loginBean.email}" required="true">
                                    <f:validateRegex pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$"/>
                                </p:inputText>
                                <h:message for="email" styleClass="error"/>
                            </h:panelGrid>
                        </div>
                    </div>

                    <h:commandButton value="Save" action="#{loginBean.updateUser()}" styleClass="save-button"/>
                </h:panelGroup>
            </h:form>

        </div>
    </div>
</h:body>
</html>
